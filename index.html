<!DOCTYPE html>
<html lang="zn-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>歡迎光臨~傳說對決</title>
</head>

<style>
    body {
        margin: 0;
        padding: 0;
    }

    * {
        box-sizing: border-box;
    }


    #section1 {
        width: 100%;
        height: 100vh;
        position: relative;
    }

    @keyframes showit {
        from {
            opacity: 0.4;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes fadeout {
        from {
            opacity: 1;
        }

        to {
            opacity: 0;
        }
    }

    .mask {
        width: 100%;
        height: 100%;
        position: absolute;
        z-index: 4;
        opacity: 0.8;
    }

    .mask-top {
        width: 100%;
        height: 65px;
        background-color: black;
        position: absolute;
        z-index: 3;
    }

    .mask-botton {
        width: 100%;
        height: 65px;
        background-color: black;
        position: absolute;
        bottom: 0;
        z-index: 3;
    }

    #player {
        width: 100%;
        height: 100%;
        animation-name: fadeout;
        animation-duration: 5s;
        animation-delay: 1s;
        animation-fill-mode: forwards;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
        pointer-events: none;
    }

    .pic {
        width: 100%;
        height: 100%;
        /* background-image: url(img/open5.jpg); */
        /* 之後問老師怎麼換照片，再改回 */
        background-position: center;
        /* 原cover暫用contain */
        background-size: cover;
        /* background-repeat: no-repeat; */
        animation-name: showit;
        animation-duration: 2s;
        animation-delay: 5s;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
        opacity: 0;
        animation-fill-mode: forwards;
    }

    .pic span {
        color: white;
        font-family: "Franklin Gothic Heavy";
        font-size: 5.5rem;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -200%);
    }

    @media (max-width:768px) {
        .pic {
            background-size: contain;
            background-repeat: no-repeat;
        }

        .pic span {
            font-size: 3rem;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -150%);
        }
    }

    @media (max-width:576px) {
        .pic span {
            font-size: 2rem;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -150%);
        }
    }

    #section2 {
        width: 100%;
        height: 100vh;
    }

    .pictest{
        width: 100%;
        height: 100%;
    }
</style>

<body>

    <section id="section1">
        <div class="mask">
            <div class="mask-top"></div>
            <div id="player"></div>
            <div class="mask-botton"></div>
        </div>
        <div class="pic" style="background-image: url(img/openpic.jpg);">
            <span>5</span>
            <div id="scene" class="fullpage">
                <div id="avatar1" data-depth="0.1" class="fullpage"><img src="img/avatar1.png" alt="" class="fullpage"></div>
                <div id="avatar2" data-depth="0.4"><img src="img/avatar2.jpg" alt=""></div>
                <div id="avatar3" data-depth="0.6"><img src="img/avatar3.jpg" alt=""></div>
                <div id="avatar4" data-depth="0.8"><img src="img/avatar4.jpg" alt=""></div>
                <div id="avatar5" data-depth="1.0"><img src="img/avatar5.jpg" alt=""></div>
                <div id="avatar6" data-depth="1.2"><img src="img/avatar6.jpg" alt=""></div>
                <div id="avatar7" data-depth="1.4"><img src="img/avatar7.jpg" alt=""></div>
                <div id="avatar8" data-depth="1.6"><img src="img/avatar8.jpg" alt=""></div>
                <div id="avatar9" data-depth="1.8"><img src="img/avatar9.jpg" alt=""></div>
                <div id="avatar10" data-depth="2"><img src="img/avatar10.jpg" alt=""></div>
            </div>
        </div>
    </section>

    <section id="section2">

        <h1>首頁</h1>
        <div class="pictest" style="background-image: url(img/openpicavartar.jpg);"></div>
    </section>


    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/parallax/3.1.0/parallax.min.js"></script>

    <script>
        var scene = document.querySelector('#scene');
        var parallaxInstance = new Parallax(scene);

        var tag = document.createElement('script');

        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // 3. This function creates an <iframe> (and YouTube player)
        //    after the API code downloads.
        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '100%',
                width: '100%',
                videoId: 'DLdlV1PQOZc',
                events: {
                    'onReady': onPlayerReady,
                    // 'onStateChange': function (event) {
                    //     if (event.data == YT.PlayerState.ENDED) {
                    //         // console.log("結束了");
                    //     }
                    // }
                },
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    controls: 0,
                    loop: 1,
                    modestbranding: 1
                }
            });
        }

        // 4. The API will call this function when the video player is ready.
        function onPlayerReady(event) {
            event.target.playVideo();

            var mask_top = document.querySelector('.mask-top')
            var mask_bot = document.querySelector('.mask-botton')
            var pic = document.querySelector('.pic span')
            setTimeout(function () {
                pic.innerHTML = "4";
                // pic.setAttribute("style", "background-image: url(img/open0.jpg);");
                // mask_top.classList.remove("mask-top")
                // mask_bot.classList.remove("mask-botton")
            }, 6000);
            setTimeout(function () {
                pic.innerHTML = "3";
            }, 7000);
            setTimeout(function () {
                pic.innerHTML = "2";
            }, 8000);
            setTimeout(function () {
                pic.innerHTML = "1";
            }, 9000);
            setTimeout(function () {
                pic.innerHTML = "0";
            }, 10000);
        }




    </script>
</body>

</html>